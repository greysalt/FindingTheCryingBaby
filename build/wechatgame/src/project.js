require=function n(a,s,l){function r(c,e){if(!s[c]){if(!a[c]){var t="function"==typeof require&&require;if(!e&&t)return t(c,!0);if(p)return p(c,!0);var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[c]={exports:{}};a[c][0].call(o.exports,function(e){var t=a[c][1][e];return r(t||e)},o,o.exports,n,a,s,l)}return s[c].exports}for(var p="function"==typeof require&&require,e=0;e<l.length;e++)r(l[e]);return r}({EndGame:[function(e,t,c){"use strict";cc._RF.push(t,"5e8a8ZlcaFC4aQP+kgytNNO","EndGame");var n=e("Global");cc.Class({extends:cc.Component,properties:{scoreDisplay:{default:null,type:cc.Label},timeDisplay:{default:null,type:cc.Label},congrats_audio:cc.AudioClip},onLoad:function(){this.stopTimer(),this.scoreDisplay.string=n.score+100,cc.audioEngine.playEffect(this.congrats_audio)},stopTimer:function(){if(0<n.time){var e=(new Date).getTime()-n.time,t=Math.floor(e/6e4),c=e%6e4,i=Math.floor(c/1e3),o=c%1e3;n.time=t+"'"+i+'"'+o,this.timeDisplay.string=n.time}else this.timeDisplay.string=0}}),cc._RF.pop()},{Global:"Global"}],FinalTile:[function(e,t,c){"use strict";cc._RF.push(t,"34c16WNaG1MWYlAhY1QT2KS","FinalTile"),cc.Class({extends:cc.Component,properties:{click_audio2:cc.AudioClip},onLoad:function(){var t=this.click_audio2;this.node.on(cc.Node.EventType.TOUCH_START,function(e){cc.audioEngine.playEffect(t),cc.director.loadScene("EndScene")})}}),cc._RF.pop()},{}],Game:[function(e,t,c){"use strict";cc._RF.push(t,"70706yxgtZJ158q6d2j+fIf","Game");var i=e("Global");cc.Class({extends:cc.Component,properties:{tilePre:{default:null,type:cc.Prefab},tileBoxFinal:{default:null,type:cc.Prefab},popUpPre:{default:null,type:cc.Prefab},tileBg:{default:null,type:cc.Node},scoreDisplay:{default:null,type:cc.Label},levelDisplay:{default:null,type:cc.Label},bgMusic:cc.AudioClip,level:4,poped:!1,interval:null},onDestroy:function(){cc.audioEngine.stopMusic(this.bgMusic,!0)},onLoad:function(){cc.audioEngine.playMusic(this.bgMusic,!0),this.setTiles(3,3,150),this.setRandom(3,3,150,"cry1"),this.scoreDisplay.string="得分：0",this.startTimer()},setTiles:function(e,t,c){var i=new cc.Node("tileBox"+this.level);i.parent=this.node;for(var o=0;o<e;o++)for(var n=0;n<t;n++){var a=cc.instantiate(this.tilePre);a.parent=i;var s=a.getComponent("Tile");switch(this.level){case 1:case 2:s.type=1;break;case 3:s.type=1+Math.round(Math.random());break;case 4:case 5:case 6:s.type=1+Math.round(7*Math.random())}s.newTile(c),a.setPosition(((1-e)/2+n)*c,((1-t)/2+o)*c),a.getComponent("Tile").game=this}},setRandom:function(e,t,c,i){var o=Math.floor(Math.random()*e*t),n=this.node.getChildByName("tileBox"+this.level).children[o].getComponent("Tile");n.type=i,n.newTile(c)},shuffleTile:function(e){for(var t=e.creatRandom(30,1,49),c=e.node.getChildByName("tileBox"+e.level),i=c.children[t[0]],o=i.x,n=i.y,a=0;a<29;a++){var s=c.children[t[a]],l=c.children[t[a+1]];s.runAction(cc.moveTo(1,l.x,l.y).easing(cc.easeInOut(3)))}c.children[t[29]].runAction(cc.moveTo(1,o,n).easing(cc.easeInOut(3)))},creatRandom:function(e,t,c){for(var i=[],o=[],n=t;n<c;n++)i.push(n);for(var a=0;a<c-t;a++){var s=i.splice(Math.floor(Math.random()*i.length),1);o.push(s[0])}return o.length=e,o},newLevel:function(){if(this.node.getChildByName("tileBox"+(this.level-1)).destroy(),this.levelDisplay.string="关卡 "+this.level,this.level<=5){var e=this.level;this.setTiles(e+2,e+2,450/(e+2)),3<=this.level&&this.setRandom(e+2,e+2,450/(e+2),"jia"),4<=this.level?this.setRandom(e+2,e+2,450/(e+2),"cry2"):this.setRandom(e+2,e+2,450/(e+2),"cry1")}else if(6===this.level)this.setTiles(7,7,450/7),this.setRandom(7,7,450/7,"cry2"),this.interval=setInterval(this.shuffleTile,1500,this);else if(6<this.level){cc.instantiate(this.tileBoxFinal).parent=this.node}},startTimer:function(){i.time=(new Date).getTime()},popup:function(e){"Good Job !"===e&&clearInterval(this.interval),this.poped=!0;var t=cc.instantiate(this.popUpPre);t.opacity=0,t.parent=this.node,t.getComponent("PopUp").msg.string=e||"nothing happened";var c=cc.callFunc(function(){t.destroy(),this.poped=!1,"Good Job !"===e&&this.newLevel()},this),i=cc.sequence(cc.spawn(cc.fadeIn(.3).easing(cc.easeOut(2)),cc.moveBy(.3,cc.p(0,30)).easing(cc.easeOut(2))),cc.delayTime(1),cc.spawn(cc.fadeOut(.3).easing(cc.easeIn(2)),cc.moveBy(.3,cc.p(0,30)).easing(cc.easeIn(2))),c);t.runAction(i)}}),cc._RF.pop()},{Global:"Global"}],Global:[function(e,t,c){"use strict";cc._RF.push(t,"b7ab8oppl5MvYYxlzyelhaU","Global"),t.exports={score:0,time:null},cc._RF.pop()},{}],MoveTile:[function(e,t,c){"use strict";cc._RF.push(t,"4c246WYy6pBH5D0fp1QCdjd","MoveTile"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=cc.repeatForever(cc.rotateBy(12,360));this.node.runAction(e)}}),cc._RF.pop()},{}],PlayGo:[function(e,t,c){"use strict";cc._RF.push(t,"36a810pCx9Mq7jupT6VMyci","PlayGo"),cc.Class({extends:cc.Component,properties:{click_audio:cc.AudioClip},toScene:function(){cc.audioEngine.playEffect(this.click_audio),cc.director.loadScene("MainScene")}}),cc._RF.pop()},{}],PopUp:[function(e,t,c){"use strict";cc._RF.push(t,"7f6bdvNckFObapFJ336bqp1","PopUp"),cc.Class({extends:cc.Component,properties:{msg:{default:null,type:cc.Label}}}),cc._RF.pop()},{}],Retry:[function(e,t,c){"use strict";cc._RF.push(t,"bb0b1jOudROv4iAvDyi+5In","Retry");var i=e("Global");cc.Class({extends:cc.Component,properties:{click_audio:cc.AudioClip},toScene:function(){cc.audioEngine.playEffect(this.click_audio),i.score=0,cc.director.loadScene("WelcomeScene")}}),cc._RF.pop()},{Global:"Global"}],Tile:[function(e,t,c){"use strict";cc._RF.push(t,"08ec7HR24NA2K7rl6PAikX9","Tile");var i=e("Global");cc.Class({extends:cc.Component,properties:{numLabel:{default:null,type:cc.Label},game:{default:null,serializable:!1},bao_cry1:{default:null,type:cc.SpriteFrame},bao_cry2:{default:null,type:cc.SpriteFrame},bao_1:{default:null,type:cc.SpriteFrame},bao_2:{default:null,type:cc.SpriteFrame},bao_3:{default:null,type:cc.SpriteFrame},bao_4:{default:null,type:cc.SpriteFrame},bao_5:{default:null,type:cc.SpriteFrame},bao_6:{default:null,type:cc.SpriteFrame},bao_7:{default:null,type:cc.SpriteFrame},bao_8:{default:null,type:cc.SpriteFrame},jia:{default:null,type:cc.SpriteFrame},click_audio1:cc.AudioClip,click_audio2:cc.AudioClip,type:1},onLoad:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){!1===t.game.poped?"cry1"===t.type||"cry2"===t.type?(cc.audioEngine.playEffect(t.click_audio2),i.score+=100,t.game.scoreDisplay.string="得分："+i.score,t.game.level+=1,t.game.popup("Good Job !")):"jia"===t.type?(cc.audioEngine.playEffect(t.click_audio1),t.game.popup("发现了 嫌弃佳\n然而并没什么*用")):(cc.audioEngine.playEffect(t.click_audio1),i.score-=100,t.game.scoreDisplay.string="得分："+i.score,t.game.popup("好像不对哦~")):cc.log("nothing")})},newTile:function(e){switch(this.type){case"cry1":this.node.getComponent(cc.Sprite).spriteFrame=this.bao_cry1;break;case"cry2":this.node.getComponent(cc.Sprite).spriteFrame=this.bao_cry2;break;case"jia":this.node.getComponent(cc.Sprite).spriteFrame=this.jia;break;case 1:this.node.getComponent(cc.Sprite).spriteFrame=this.bao_1;break;case 2:this.node.getComponent(cc.Sprite).spriteFrame=this.bao_2;break;case 3:case 3:this.node.getComponent(cc.Sprite).spriteFrame=this.bao_3;break;case 4:this.node.getComponent(cc.Sprite).spriteFrame=this.bao_4;break;case 5:this.node.getComponent(cc.Sprite).spriteFrame=this.bao_5;break;case 6:this.node.getComponent(cc.Sprite).spriteFrame=this.bao_6;break;case 7:this.node.getComponent(cc.Sprite).spriteFrame=this.bao_7;break;case 8:this.node.getComponent(cc.Sprite).spriteFrame=this.bao_8}this.node.width=.95*e,this.node.height=.95*e}}),cc._RF.pop()},{Global:"Global"}],Welcome:[function(e,t,c){"use strict";cc._RF.push(t,"49b9fzR18NCyKKb8C4hSpGV","Welcome"),cc.Class({extends:cc.Component,properties:{baby:{default:null,type:cc.Node}},onLoad:function(){var e=cc.repeatForever(cc.sequence(cc.moveBy(.8,cc.p(0,-10)).easing(cc.easeInOut(2)),cc.moveBy(.8,cc.p(0,10)).easing(cc.easeInOut(2))));this.baby.runAction(e)}}),cc._RF.pop()},{}]},{},["EndGame","FinalTile","Game","Global","MoveTile","PlayGo","PopUp","Retry","Tile","Welcome"]);